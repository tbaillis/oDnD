<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Logging Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1b1e22;
            color: #ddd;
            font-family: 'Segoe UI', sans-serif;
        }
        
        .test-panel {
            background: rgba(20, 25, 30, 0.95);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .test-button {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        
        .test-button:hover {
            background: #7c3aed;
        }
        
        .status {
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
        }
        
        .status.success {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
        }
        
        .status.error {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid #ef4444;
        }
        
        .status.info {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid #3b82f6;
        }
    </style>
</head>
<body>
    <h1>üîç Debug Logging System Test</h1>
    
    <div class="test-panel">
        <h2>Debug Logger Tests</h2>
        <button class="test-button" onclick="testDebugLoggerExists()">1. Check if Debug Logger Exists</button>
        <button class="test-button" onclick="testEnableAILogging()">2. Enable AI Logging</button>
        <button class="test-button" onclick="testEnableDetailedLogging()">3. Enable Detailed Logging</button>
        <button class="test-button" onclick="testLogMessages()">4. Test Log Messages</button>
        <button class="test-button" onclick="testShowPanel()">5. Show Debug Panel</button>
        <button class="test-button" onclick="runFullTest()">üöÄ Run Full Test</button>
        <div id="status-display"></div>
    </div>
    
    <script>
        function addStatus(message, type = 'info') {
            const display = document.getElementById('status-display');
            const status = document.createElement('div');
            status.className = `status ${type}`;
            status.textContent = message;
            display.appendChild(status);
            console.log(message);
        }
        
        function clearStatus() {
            const display = document.getElementById('status-display');
            display.innerHTML = '';
        }
        
        function testDebugLoggerExists() {
            clearStatus();
            
            if (typeof window.debugLogger !== 'undefined') {
                addStatus('‚úÖ Debug Logger exists on window object', 'success');
                addStatus(`Debug Logger methods: ${Object.getOwnPropertyNames(Object.getPrototypeOf(window.debugLogger)).filter(name => name !== 'constructor').join(', ')}`, 'info');
            } else {
                addStatus('‚ùå Debug Logger not found on window object', 'error');
                addStatus('Make sure the main application is loaded first', 'info');
            }
        }
        
        function testEnableAILogging() {
            if (!window.debugLogger) {
                addStatus('‚ùå Debug Logger not available', 'error');
                return;
            }
            
            try {
                window.debugLogger.enableAILogging(true);
                const enabled = window.debugLogger.isAILoggingEnabled();
                addStatus(`‚úÖ AI Logging enabled: ${enabled}`, 'success');
            } catch (error) {
                addStatus(`‚ùå Error enabling AI logging: ${error.message}`, 'error');
            }
        }
        
        function testEnableDetailedLogging() {
            if (!window.debugLogger) {
                addStatus('‚ùå Debug Logger not available', 'error');
                return;
            }
            
            try {
                window.debugLogger.enableDetailedLogging(true);
                const enabled = window.debugLogger.isDetailedLoggingEnabled();
                addStatus(`‚úÖ Detailed Logging enabled: ${enabled}`, 'success');
            } catch (error) {
                addStatus(`‚ùå Error enabling detailed logging: ${error.message}`, 'error');
            }
        }
        
        function testLogMessages() {
            if (!window.debugLogger) {
                addStatus('‚ùå Debug Logger not available', 'error');
                return;
            }
            
            try {
                // Test different log types
                window.debugLogger.logAI('Test', 'This is an AI test message', { testData: 'AI logging test' });
                window.debugLogger.logServer('Test', 'This is a server test message', { url: 'http://test.example' });
                window.debugLogger.logStack('Test', 'This is a stack trace test', { function: 'testLogMessages' });
                window.debugLogger.logInfo('Test', 'This is an info message');
                window.debugLogger.logWarn('Test', 'This is a warning message');
                window.debugLogger.logError('Test', 'This is an error message');
                
                addStatus('‚úÖ Test messages logged successfully', 'success');
                addStatus('Check the debug panel to see the messages', 'info');
            } catch (error) {
                addStatus(`‚ùå Error logging test messages: ${error.message}`, 'error');
            }
        }
        
        function testShowPanel() {
            if (!window.debugLogger) {
                addStatus('‚ùå Debug Logger not available', 'error');
                return;
            }
            
            try {
                window.debugLogger.showPanel();
                addStatus('‚úÖ Debug panel should now be visible', 'success');
            } catch (error) {
                addStatus(`‚ùå Error showing panel: ${error.message}`, 'error');
            }
        }
        
        async function runFullTest() {
            clearStatus();
            addStatus('üöÄ Starting full debug logging test...', 'info');
            
            // Test 1: Check existence
            testDebugLoggerExists();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // Test 2: Enable logging
            testEnableAILogging();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            testEnableDetailedLogging();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // Test 3: Log messages
            testLogMessages();
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // Test 4: Show panel
            testShowPanel();
            
            addStatus('üéâ Full test completed! Check the debug panel for messages.', 'success');
        }
        
        // Initial check when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                addStatus('Debug Logger Test Page loaded', 'info');
                addStatus('Click buttons to test debug logging functionality', 'info');
            }, 500);
        });
    </script>
</body>
</html>
